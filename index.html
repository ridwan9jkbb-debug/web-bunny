<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TERMINAL_VOID</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        * { box-sizing: border-box; }
        body { 
            background: #000; 
            color: #00ff41; 
            font-family: 'Courier New', Courier, monospace; 
            margin: 0; 
            display: flex; 
            flex-direction: column; 
            height: 100vh;
            overflow: hidden;
        }
        #terminal-header { 
            background: #0a0a0a; 
            padding: 10px; 
            border-bottom: 2px solid #00ff41; 
            font-size: 0.8rem;
            text-shadow: 0 0 5px #00ff41;
        }
        #chat-window { 
            flex: 1; 
            overflow-y: auto; 
            padding: 15px; 
            background: linear-gradient(rgba(0, 255, 65, 0.05) 50%, transparent 50%), #000;
            background-size: 100% 4px;
        }
        .entry { margin-bottom: 12px; line-height: 1.4; border-left: 2px solid #00ff41; padding-left: 10px; }
        .user { color: #fff; font-weight: bold; text-transform: uppercase; }
        .msg { color: #00ff41; }
        #input-panel { 
            background: #0a0a0a; 
            padding: 15px; 
            border-top: 2px solid #00ff41;
            display: flex;
            gap: 10px;
        }
        input { 
            background: #000; 
            border: 1px solid #00ff41; 
            color: #00ff41; 
            padding: 10px; 
            outline: none;
            font-family: 'Courier New', monospace;
        }
        button { 
            background: #00ff41; 
            color: #000; 
            border: none; 
            padding: 10px 15px; 
            font-weight: bold; 
            cursor: pointer;
            font-family: 'Courier New', monospace;
        }
        button:hover { background: #fff; }
        ::-webkit-scrollbar { width: 5px; }
        ::-webkit-scrollbar-thumb { background: #00ff41; }
    </style>
</head>
<body>

<div id="terminal-header">
    [SYSTEM]: ANONYMOUS_VOID_v1.0.4<br>
    [STATUS]: ENCRYPTED_CONNECTION_ESTABLISHED...
</div>

<div id="chat-window"></div>

<div id="input-panel">
    <input type="text" id="user" placeholder="USER_ID" style="width: 30%;">
    <input type="text" id="text" placeholder="ENTER_COMMAND_OR_MSG..." style="width: 70%;">
    <button onclick="send()">EXECUTE</button>
</div>

<script>
    const supabase = supabase.createClient("URL_SUPABASE_KAMU", "ANON_KEY_KAMU");

    async function fetchMsgs() {
        const { data } = await supabase.from('grup_bunny').select('*').order('created_at', { ascending: true });
        const win = document.getElementById('chat-window');
        win.innerHTML = '';
        data.forEach(d => {
            win.innerHTML += `<div class="entry"><span class="user">@${d.nama}:</span> <span class="msg">${d.pesan}</span></div>`;
        });
        win.scrollTop = win.scrollHeight;
    }

    async function send() {
        const nama = document.getElementById('user').value || "ANON_GHOST";
        const pesan = document.getElementById('text').value;
        if(!pesan) return;

        await supabase.from('grup_bunny').insert([{ nama, pesan }]);
        document.getElementById('text').value = '';
    }

    // REALTIME LISTEN
    supabase.channel('room1')
    .on('postgres_changes', { event: 'INSERT', schema: 'public', table: 'grup_bunny' }, () => {
        fetchMsgs();
    })
    .subscribe();

    fetchMsgs();
</script>
</body>
</html>            
